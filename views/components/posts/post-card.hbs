<link rel="stylesheet" href="/css/post-card.css" />

<div class="post-card tw-ml-3 tw-w-[400x] tw-h-[620px] tw-pb-16">
  {{! Image }}
  <a
    href="/posts/detail?id={{article_id}}"
    class="tw-no-underline tw-text-black"
  >

    {{#if article_image_url}}
      <div class="post-card-img">
        <img
          class="tw-object-cover tw-w-[390px] tw-h-[220px] tw-block tw-rounded-[15px] tw-border-[1px] tw-border-solid tw-border-gray-400"
          src="{{article_image_url}}"
          alt="Error"
          onerror="this.onerror=null; this.src='/img/placeholder.png';"
        />
      </div>
    {{else}}
      <div class="post-card-img">
        <img
          class="tw-object-cover tw-w-full tw-block tw-rounded-[15px]"
          src="https://via.placeholder.com/800x400"
          alt=""
        />
      </div>
    {{/if}}

    {{! Title }}
    <div class="post-card-title tw-mt-2 tw-ml-2 tw-w-[420px] tw-h-[110px]">
      <span
        class="tw-text-3xl tw-font-bold truncated-title tw-px-1"
      >{{article_title}}</span>
    </div>

    <style>
      .truncated-title { display: -webkit-box; /* Hiển thị dưới dạng box */
      -webkit-line-clamp: 3; /* Giới hạn 3 dòng */ -webkit-box-orient: vertical;
      /* Định hướng box theo chiều dọc */ overflow: hidden; /* Ẩn phần văn bản
      thừa */ text-overflow: ellipsis; /* Hiển thị dấu ba chấm */ line-height:
      1.5; /* Điều chỉnh khoảng cách dòng nếu cần */ max-height: 4.5em; /* Giới
      hạn chiều cao của phần tử (3 dòng x 1.5em mỗi dòng) */ }
    </style>
    {{! Abstract }}
    <div
      class="post-card-content tw-overflow-hidden tw-text-ellipsis tw-mt-3 tw-ml-2 tw-font-extralight tw-text-gray-700 tw-h-[750px]"
    >{{article_abstract}}
    </div>
  </a>
  <a
    href="/posts/byCat?name={{category_name}}"
    class="tw-no-underline tw-text-black"
  >
    {{! Category }}
    <div
      class="tw-ml-2 tw-mt-3 tw-text-lg tw-font-semibold tw-text-gray-400 tw-pb-2 tw-border-gray-400 tw-mb-5"
    >
      {{category_name}}
    </div>
  </a>
  {{! Tags }}
  <div
    class="post-card-tags tw-mt-3 tw-ml-2 tw-flex tw-justify-start tw-items-center tw-mb-5"
  >
    {{#if article_is_premium}}
      <a
        href="/posts/byTag?name=Premium&page=1"
        class="tw-no-underline tw-text-black tw-mr-3"
      >
        <div
          class="tw-bg-gray-200 tw-mr-3 tw-cursor-pointer tw-max-w-[120px] tw-w-full tw-h-[30px] tw-border-red-600 tw-rounded-[50px] tw-text-center tw-inline-flex tw-items-center tw-justify-center tw-text-[#54A651] tw-text-xs tw-font-medium tw-px-1"
        >
          <div class="tw-mr-1">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              width="20px"
              height="20px"
              viewBox="0 0 128 128"
              enable-background="new 0 0 128 128"
              xml:space="preserve"
              fill="#000000"
            ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g><g id="SVGRepo_iconCarrier">
                <path
                  fill="#FFA000"
                  d="M112,36c-6.629,0-12,5.375-12,12c0,1.68,0.352,3.273,0.973,4.727L84,60L69.801,34.445 C73.48,32.391,76,28.508,76,24c0-6.625-5.371-12-12-12s-12,5.375-12,12c0,4.508,2.52,8.391,6.199,10.445L44,60l-16.973-7.273 C27.648,51.273,28,49.68,28,48c0-6.625-5.371-12-12-12S4,41.375,4,48s5.371,12,12,12c0.93,0,1.822-0.133,2.695-0.328L28,100v8 c0,4.422,3.582,8,8,8h56c4.418,0,8-3.578,8-8v-8l9.309-40.328C110.176,59.875,111.07,60,112,60c6.629,0,12-5.375,12-12 S118.629,36,112,36z M64,20c2.207,0,4,1.797,4,4s-1.793,4-4,4s-4-1.797-4-4S61.793,20,64,20z M12,48c0-2.203,1.793-4,4-4 s4,1.797,4,4s-1.793,4-4,4S12,50.203,12,48z M92,108H36v-8h56V108z M93.633,92H34.367L27.34,61.563l13.508,5.789 C41.871,67.789,42.941,68,43.996,68c2.828,0,5.547-1.5,6.996-4.117L64,40.477l13.008,23.406C78.457,66.5,81.176,68,84.004,68 c1.055,0,2.125-0.211,3.148-0.648l13.508-5.789L93.633,92z M112,52c-2.207,0-4-1.797-4-4s1.793-4,4-4s4,1.797,4,4S114.207,52,112,52 z"
                ></path>
              </g></svg>
          </div>
          Premium
        </div>
      </a>
    {{/if}}
    {{#each article_tags}}
      <a
        href="/posts/byTag?name={{this}}&page=1"
        class="tw-no-underline tw-text-black tw-mr-3 tw-max-w-[120px] tw-w-full"
      >
        <div
          class="tw-bg-gray-200 tw-mr-3 tw-cursor-pointer tw-max-w-[120px] tw-w-full tw-h-[30px] tw-border-red-600 tw-rounded-[50px] tw-text-center tw-inline-flex tw-items-center tw-justify-center tw-text-gray-600 tw-text-xs tw-font-medium tw-px-1"
        >
          {{this}}
        </div>
      </a>
    {{/each}}

  </div>
  {{! Post info }}
  <div class="post-card-info tw-mt-3 tw-ml-4">
    <span class="post-card-info-author tw-mr-2 tw-font-normal">{{author_name}}
    </span>
    <span class="post-card-info-datetime tw-text-gray-500">{{format_datetime
        article_publish_date
      }}</span>
  </div>
</div>